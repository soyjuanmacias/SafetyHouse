webpackJsonp([1],{0:function(t,e){},"1WKT":function(t,e){t.exports="<a [routerLink]=\"['../']\"> Go back </a>\n<br>\n<hr>\n<a [routerLink]=\"['security']\"> SEGURIDAD </a>\n<br><br>\n<a [routerLink]=\"['users']\"> VECINOS </a>\n"},2:function(t,e,n){t.exports=n("cDNt")},"2hj0":function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},"3BBP":function(t,e,n){"use strict";var o=n("bKpL"),i=(n.n(o),n("MjLF"));n.n(i);n.d(e,"a",function(){return r});var r=function(){function t(){this.url="http://localhost:3001"}return t.prototype.getNotifications=function(){var t=this;return this.socket=i(this.url),this.socket.on("notification:security",function(t){console.log("DATA",t)}),new o.Observable(function(e){t.socket=i(t.url),t.socket.on("notification:security",function(t){console.log("DATA",t),e.next(t)})})},t}()},"3hQM":function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},"3php":function(t,e){t.exports='<a [routerLink]="[\'/complaint/list\']"> Go back </a>\n<br>\n<hr>\n<div *ngIf="oneComplaint">\n  <h2>Título</h2>\n  <h2>{{oneComplaint.title}}</h2>\n  <hr>\n  <h2>Descripción de los hechos</h2>\n  <h4>{{oneComplaint.description}}</h4>\n  <hr>\n  <h2>Fecha</h2>\n  <h4>{{oneComplaint.date}}</h4>\n  <hr>\n  <h2>Estado</h2>\n  <h4>{{oneComplaint.status}}</h4>\n  <h2>Imagen</h2>\n  <img [src]="oneComplaint.img_url" height="200">\n  <h2>Usuario que denuncia</h2>\n  <h4>{{oneComplaint.user}}</h4>\n  <div *ngIf="oneComplaint.comment !== \'\'">\n    <h2>Actuación por parte de Seguridad</h2>\n    <h4>{{oneComplaint.comment}}</h4>\n  </div>\n  <button *ngIf="oneComplaint.status === \'sent\'" class="btn" (click)="conmuteComplainState()">Iniciar trámite</button>\n  <div *ngIf="oneComplaint.status === \'inProcess\'">\n    <textarea [(ngModel)]="comment" rows="4" cols="50" placeholder="Si escribes algo nuevo, sustituirás el antiguo comentario de actuación." value=""></textarea>\n    <br>\n    <button *ngIf="oneComplaint.status === \'inProcess\'" class="btn" (click)="closeComplaint()">Cerrar denuncia</button>\n  </div>\n  <div *ngIf="oneComplaint.status === \'completed\'">\n    <button class="btn" (click)="openComplaint()">Re-abrir denuncia</button>\n  </div>\n</div>\n'},"6KYX":function(t,e,n){"use strict";var o=n("/oeL");n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();s=i([n.i(o.Component)({selector:"app-alerts",template:n("Cn+V"),styles:[n("JQ3C")]}),r("design:paramtypes",[])],s)},"6UUW":function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"button,label{display:block}",""]),t.exports=t.exports.toString()},AoBA:function(t,e){t.exports='<a [routerLink]="[\'../\']" *ngIf="session.user.role !== \'User\'"> Go back </a>\n<a [routerLink]="[\'\']" *ngIf="session.user.role === \'User\'"> Go back </a>\n<br>\n<hr>\n<div class="newComplaint col s5">\n  <div>\n    <label>Título de la denuncia:</label>\n    <input type="text" [(ngModel)]="newComplaint.title">\n  </div>\n  <div>\n    <label for="complaint-description">Describe los hechos:</label>\n    <input type="text" [(ngModel)]="newComplaint.description">\n  </div>\n  <div>\n    <label>Img Url:</label>\n    <input class="add-complaint-form" type="text" [(ngModel)]="newComplaint.img_url">\n  </div>\n  <button class="btn" (click)="addComplaint()">Enviar</button>\n</div>\n'},AxSD:function(t,e){t.exports='<a [routerLink]="[\'../\']"> Go back </a>\n<ul *ngFor="let house of houseList">\n  <hr>\n  Calle: {{house.street}}\n  <li>Número: {{house.number}}</li>\n  <li>Floors: {{house.floors}}</li>\n  <li>Metros cuadrados: {{house.description}}</li>\n  <li>\n    Propietarios:\n    <ul>\n      <li ngFor="let member of house.members">Name: {{member}}</li>\n    </ul>\n  </li>\n  <li>Acceso trasero?: {{house.backAccess}}</li>\n  <hr>\n</ul>\n'},BINV:function(t,e){t.exports='<div class="background">\n  <h2 class="white-text login-title"> Login </h2>\n  <div class="login-card center-align col s12 m5">\n    <form class="col s12">\n      <div class="inputs">\n        <div class="input-field col s6">\n          <i class="material-icons prefix white-text">account_circle</i>\n          <input id="icon_prefix" class="validate white-text" type="text" [(ngModel)]="username" name="username" />\n          <label for="icon_prefix">E-mail</label>\n        </div>\n        <br>\n        <div class="input-field col s6">\n          <i class="material-icons prefix white-text">security</i>\n          <input id="passworld_prefix" class="validate white-text" type="password" [(ngModel)]="password" name="password" />\n          <label for="password_prefix">Contraseña</label>\n        </div>\n        <br>\n      </div>\n    <br><br>\n    <div class="forgot-password">\n      <u><a class="white-text left login-forgot-password" [routerLink]="[\'\']">He olvidado mi contraseña</a></u>\n    </div>\n    <br><br>\n    <div class="button-login" *ngIf="!error">\n      <br>\n      <button class="col s12 btn white btn-login" (click)="login()"> OK </button>\n    </div>\n  </form>\n    <div class="error" *ngIf="error">\n      <p class="white-text error-text"> {{ error }} </p>\n    </div>\n  </div>\n</div>\n'},BeiC:function(t,e){t.exports='<div class="container">\n<div class="row">\n  <div class="col s12 m5 card-list list-box">\n    <app-list-complaint></app-list-complaint>\n  </div>\n\n  <div class="col s12 m2">\n  </div>\n  <div class="col s12 m5 card-list list-box">\n    <app-list-alert></app-list-alert>\n  </div>\n</div>\n  <button class="btn" (click)="alert()">Alerta</button>\n</div>\n'},"Cn+V":function(t,e){t.exports="<a [routerLink]=\"['../']\"> Go back </a>\n<br>\n<hr>\n<a [routerLink]=\"['list']\"> List all alerts </a>\n<br><br>\n<a [routerLink]=\"['add']\"> Create new alert </a>\n"},Cybx:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,".complaint-element{border:2px solid grey;margin:20px;width:400px}.add-complaint-form{display:block}",""]),t.exports=t.exports.toString()},Ev6k:function(t,e,n){"use strict";var o=n("nKUZ"),i=n("cAAi"),r=n("RPts"),s=n("Hf4T"),a=n("6KYX"),c=n("Gnup"),l=n("fSpu"),u=n("cwWe"),p=n("wmW0"),f=n("MPB4"),h=n("XuvV"),d=n("tu28"),m=n("egH5"),b=n("UBBG"),g=n("kxuY");n.d(e,"a",function(){return y});var y=[{path:"",component:o.a},{path:"complaint",component:i.a},{path:"complaint/list",component:s.a},{path:"complaint/add",component:r.a},{path:"complaint/:id/details",component:d.a},{path:"alert",component:a.a},{path:"alert/list",component:l.a},{path:"alert/add",component:c.a},{path:"house",component:p.a},{path:"house/list",component:h.a},{path:"house/add",component:f.a},{path:"signup",component:u.a},{path:"contact",component:m.a},{path:"contact/users",component:b.a},{path:"contact/security",component:g.a},{path:"**",redirectTo:""}]},Gnup:function(t,e,n){"use strict";var o=n("/oeL"),i=n("oYkd"),r=n("NyJk"),s=n("N/+Y");n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,n){this.session=t,this.alert=e,this._alert=n,this.newAlert={user:this.session.user._id,hour:new Date,date:new Date,status:"sent"}}return t.prototype.ngOnInit=function(){},t.prototype.addAlert=function(t){var e=this;this.alert.createAlert(this.newAlert).subscribe(function(t){console.log("Entro de nuevo en el subscribeee del componente"),console.log(t),e._alert.create("success","Alerta recibida correctamente. Recibirás una llamada de Seguridad")},function(t){return console.log(t)}),this.newAlert={}},t}();l=a([n.i(o.Component)({selector:"app-add-alert",template:n("X9yB"),styles:[n("2hj0")]}),c("design:paramtypes",["function"==typeof(u=void 0!==i.a&&i.a)&&u||Object,"function"==typeof(p=void 0!==r.a&&r.a)&&p||Object,"function"==typeof(f=void 0!==s.b&&s.b)&&f||Object])],l);var u,p,f},Hf4T:function(t,e,n){"use strict";var o=n("/oeL"),i=n("UXaK");n.d(e,"a",function(){return a});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){var e=this;this.complaint=t,this.complaintList=[],this.complaint.listComplaint().subscribe(function(t){e.complaintList=e.complaint.complaintList})}return t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.ngOnInit=function(){var t=this;this.complaint.listComplaint().subscribe(function(e){t.complaintList=t.complaint.complaintList,console.log("Entro en this.complaint dentro del componente =>"),console.log(t.complaintList)},function(t){return console.log(t)}),this.subscription=this.complaint.getCreateComplaintEmitter().subscribe(function(e){return t.updateList(e)})},t.prototype.updateList=function(t){this.complaintList=t},t}();a=r([n.i(o.Component)({selector:"app-list-complaint",template:n("fWA5"),styles:[n("MUjg")]}),s("design:paramtypes",["function"==typeof(c=void 0!==i.a&&i.a)&&c||Object])],a);var c},IMgM:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},Io67:function(t,e){t.exports='<a [routerLink]="[\'../\']"> Go back </a>\n<br>\n<hr>\n<div class="newHouse col s5">\n  <div>\n    <label>Calle:</label>\n    <input type="text" [(ngModel)]="newHouse.street">\n  </div>\n  <div>\n    <label>Número:</label>\n    <input type="number" [(ngModel)]="newHouse.number">\n  </div>\n  <div>\n    <label>Floors</label>\n    <input type="number" [(ngModel)]="newHouse.floors">\n  </div>\n  <div>\n    <label>Metros cuadrados</label>\n    <input type="number" [(ngModel)]="newHouse.m2">\n  </div>\n  <div>\n    <label>¿Tiene acceso trasero?</label>\n    <input type="checkbox" [checked]="newHouse.backAccess" (change)="newHouse.backAccess = !newHouse.backAccess" />\n  </div>\n  <button class="btn" (click)="addHouse()">Enviar</button>\n</div>\n'},JQ3C:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},JbYH:function(t,e){t.exports="<a [routerLink]=\"['../']\"> Go back </a>\n<br>\n<hr>\n<a [routerLink]=\"['list']\"> List all houses </a>\n<br><br>\n<a [routerLink]=\"['add']\"> Create new house </a>\n"},LBL5:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},MPB4:function(t,e,n){"use strict";var o=n("/oeL"),i=n("Nndn"),r=n("N/+Y");n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.house=t,this._alert=e,this.newHouse={}}return t.prototype.ngOnInit=function(){},t.prototype.addHouse=function(){var t=this;console.log("Funcion addHouse dentro del componente =>"),console.log(this.newHouse),this.house.createHouse(this.newHouse).subscribe(function(e){console.log("Casa creada => Entro en this.house componente add-house =>"),console.log(t.house),t._alert.create("success","Alerta recibida correctamente, nos ponemos en contacto")},function(t){return console.log(t)}),this.newHouse={}},t}();c=s([n.i(o.Component)({selector:"app-add-house",template:n("Io67"),styles:[n("cvF2")]}),a("design:paramtypes",["function"==typeof(l=void 0!==i.a&&i.a)&&l||Object,"function"==typeof(u=void 0!==r.b&&r.b)&&u||Object])],c);var l,u},MUjg:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},Nndn:function(t,e,n){"use strict";var o=n("/oeL"),i=n("p5Ee"),r=n("CPp0"),s=n("Dqrr");n.n(s);n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.http=t,this.startLoginCompleted=!1,this.BASE_URL=i.a.BASE_URL+"/house",this.options={withCredentials:!0},this.houseList=[]}return t.prototype.handleError=function(t){return console.log("ERROR => "+t),console.error("Error en la llamada al endpoint House"),s.Observable.throw(t.json().message)},t.prototype.listHouse=function(){var t=this;return this.http.get(""+this.BASE_URL,this.options).map(function(e){t.houseList=e.json()}).catch(this.handleError)},t.prototype.createHouse=function(t){return this.http.post(""+this.BASE_URL,t,this.options).map(function(t){console.log("map después de la respuesta del post servicio alert =>"),console.log(t.json())}).catch(this.handleError)},t}();l=a([n.i(o.Injectable)(),c("design:paramtypes",["function"==typeof(u=void 0!==r.b&&r.b)&&u||Object])],l);var u},NyJk:function(t,e,n){"use strict";var o=n("/oeL"),i=n("p5Ee"),r=n("CPp0"),s=n("Dqrr");n.n(s);n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.http=t,this.startLoginCompleted=!1,this.BASE_URL=i.a.BASE_URL+"/alert",this.options={withCredentials:!0},this.alertList=[]}return t.prototype.handleError=function(t){return console.log("ERROR => "+t),console.error("Error en la llamada al endpoint Alert"),s.Observable.throw(t.json().message)},t.prototype.listAlert=function(){var t=this;return this.http.get(""+this.BASE_URL,this.options).map(function(e){t.alertList=e.json()}).catch(this.handleError)},t.prototype.createAlert=function(t){return this.http.post(""+this.BASE_URL,t,this.options).map(function(t){console.log("map después de la respuesta del post servicio alert =>"),console.log(t.json())}).catch(this.handleError)},t}();l=a([n.i(o.Injectable)(),c("design:paramtypes",["function"==typeof(u=void 0!==r.b&&r.b)&&u||Object])],l);var u},OP7L:function(t,e){t.exports='<a [routerLink]="[\'../\']"> Go back </a>\n<div class="search-user">\n  <label> Buscar </label>\n  <br>\n  <input type="text" [(ngModel)]="pattern" />\n  <br>\n</div>\n<ul *ngFor="let user of userList | filter : \'street\' : pattern">\n  <hr>\n  <li>Nombre: {{user.name}}</li>\n  <li>Apellidos: {{user.lastName}}</li>\n  <li>Dirección: Calle: {{ user.street }}, Nº: {{ user.number }}\n  </li>\n  <li>Email: {{user.email}}</li>\n  <li>Contato: {{user.telephone}}</li>\n  <li>Vecino: {{user.role}}</li>\n  <button [routerLink]="[\'../\', user._id, \'details\']"> Ver usuario </button>\n  <hr>\n</ul>\n'},RPts:function(t,e,n){"use strict";var o=n("/oeL"),i=n("oYkd"),r=n("UXaK"),s=n("N/+Y"),a=n("hN3r");n.n(a);n.d(e,"a",function(){return u});var c=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,o){this.session=t,this.complaint=e,this._alert=n,this._notificationsService=o,this.newComplaint={user:this.session.user._id,status:"sent",date:new Date,hour:new Date}}return t.prototype.ngOnInit=function(){this.user=this.session.user},t.prototype.addComplaint=function(){var t=this;this.complaint.createComplaint(this.newComplaint).subscribe(function(e){t._notificationsService.error("ALERTA SOS","SEGURIDAD!!! El vecino "+t.user.name+" ha pulsado ALERTA ¡SOS!, Dirección: Calle "+t.user.street+", nº "+t.user.number,{timeOut:3e4,showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:0})},function(t){return console.log(t)}),this.newComplaint={}},t}();u=c([n.i(o.Component)({selector:"app-add-complaint",template:n("AoBA"),styles:[n("Cybx")]}),l("design:paramtypes",["function"==typeof(p=void 0!==i.a&&i.a)&&p||Object,"function"==typeof(f=void 0!==r.a&&r.a)&&f||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(d=void 0!==a.NotificationsService&&a.NotificationsService)&&d||Object])],u);var p,f,h,d},Th4g:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},UBBG:function(t,e,n){"use strict";var o=n("/oeL"),i=n("fI+h");n.d(e,"a",function(){return a});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){var e=this;this.contact=t,this.userList=[],this.contact.listUser().subscribe(function(t){e.userList=e.contact.userList})}return t.prototype.ngOnInit=function(){var t=this;this.contact.listUser().subscribe(function(e){t.userList=t.contact.userList,console.log("Entro en this.contact dentro del componente user-contact =>"),console.log(t.userList)},function(t){return console.log(t)})},t}();a=r([n.i(o.Component)({selector:"app-contact-users",template:n("OP7L"),styles:[n("q3rK")]}),s("design:paramtypes",["function"==typeof(c=void 0!==i.a&&i.a)&&c||Object])],a);var c},UC6T:function(t,e){t.exports="<a [routerLink]=\"['../']\"> Go back </a>\n<br>\n<hr>\n<a [routerLink]=\"['list']\"> List all complaints </a>\n<br><br>\n<a [routerLink]=\"['add']\"> Create new complaint </a>\n"},US02:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"button,label{display:block}.background{height:100vh;background-image:linear-gradient(180deg,#000,#00204b);background-size:100%;border:1px solid #979797;position:relative}.login-card{width:328px;height:231px;border-radius:8px;background-image:linear-gradient(270deg,#001e46,#000103);position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.inputs{margin-left:10px;margin-right:10px}.shape{width:20px;height:20px;background-color:#fff}.login-title{position:absolute;top:20%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.login-forgot-password{margin-left:10px;font-weight:300;text-decoration:underline}.btn-login{color:red;font-weight:600;width:100%}.error{position:relative;width:100%;height:80px;background-color:hsla(0,0%,100%,.2)}.error-text{font-weight:300;font-size:16px;position:absolute;top:25%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}",""]),t.exports=t.exports.toString()},UXaK:function(t,e,n){"use strict";var o=n("/oeL"),i=n("p5Ee"),r=n("CPp0"),s=n("Dqrr");n.n(s);n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.http=t,this.startLoginCompleted=!1,this.BASE_URL=i.a.BASE_URL+"/complaint",this.options={withCredentials:!0},this.complaintList=[],this.complaintEmitter=new o.EventEmitter}return t.prototype.handleError=function(t){return console.log("ERROR => "+t),console.error("Error en la llamada al endpoint Complaint"),s.Observable.throw(t.json().message)},t.prototype.listComplaint=function(){var t=this;return this.http.get(""+this.BASE_URL,this.options).map(function(e){t.complaintEmitter.emit(e.json()),t.complaintList=e.json()}).catch(this.handleError)},t.prototype.showComplaint=function(t){var e=this;return this.http.get(this.BASE_URL+"/"+t,this.options).map(function(t){e.complaint=t.json()}).catch(this.handleError)},t.prototype.createComplaint=function(t){var e=this;return this.http.post(""+this.BASE_URL,t,this.options).map(function(t){return e.listComplaint(),t.json()}).catch(this.handleError)},t.prototype.getCreateComplaintEmitter=function(){return this.complaintEmitter},t.prototype.update=function(t,e){return this.http.put(this.BASE_URL+"/"+t,e,this.options).map(function(t){return t.json()}).catch(this.handleError)},t}();l=a([n.i(o.Injectable)(),c("design:paramtypes",["function"==typeof(u=void 0!==r.b&&r.b)&&u||Object])],l);var u},"VUQ+":function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},X9yB:function(t,e){t.exports='<a [routerLink]="[\'../\']" *ngIf="session.user.role !== \'User\'"> Go back </a>\n<a [routerLink]="[\'\']" *ngIf="session.user.role === \'User\'"> Go back </a>\n<br>\n<hr>\n<div class="newAlert col s5">\n  <div>\n    <label>¿Que está pasando?</label>\n    <input type="text" [(ngModel)]="newAlert.title">\n  </div>\n  <div>\n    <label for="complaint-description">Describe los hechos:</label>\n    <input type="text" [(ngModel)]="newAlert.description">\n  </div>\n  <div>\n    <label>Img Url:</label>\n    <input class="add-complaint-form" type="text" [(ngModel)]="newAlert.img_url">\n  </div>\n  <div class="">\n    <label>Prioridad</label>\n    <select name="emergencyLevel" [(ngModel)]="newAlert.emergencyLevel">\n      <optgroup label="Prioridad">\n      <option value="Baja">Baja</option>\n      <option value="Media">Media</option>\n      <option value="Urgente">Urgente</option>\n      <option value="Muy urgente">Muy urgente</option>\n    </select>\n  </div>\n  <button class="btn" (click)="addAlert()">Enviar</button>\n</div>\n'},XuvV:function(t,e,n){"use strict";var o=n("/oeL"),i=n("Nndn");n.d(e,"a",function(){return a});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){var e=this;this.house=t,this.houseList=[],this.time=setInterval(function(){e.house.listHouse().subscribe(function(t){e.houseList=e.house.houseList})},1e4)}return t.prototype.ngOnDestroy=function(){clearInterval(this.time)},t.prototype.ngOnInit=function(){var t=this;this.house.listHouse().subscribe(function(e){t.houseList=t.house.houseList,console.log("Entro en this.house dentro del componente =>"),console.log(t.houseList)},function(t){return console.log(t)}),console.log("Entro en ngOnInit de List Complains"),console.log(this.house)},t}();a=r([n.i(o.Component)({selector:"app-list-house",template:n("AxSD"),styles:[n("IMgM")]}),s("design:paramtypes",["function"==typeof(c=void 0!==i.a&&i.a)&&c||Object])],a);var c},Z7D9:function(t,e){t.exports="<a [routerLink]=\"['../']\"> Go back </a>\n<ul *ngFor=\"let security of securityList\">\n  <hr>\n  <li>Nombre: {{security.name}}</li>\n  <li>Apellidos: {{security.lastName}}</li>\n  <li>Email: {{security.email}}</li>\n  <li>Contacto: {{security.telephone}}</li>\n  <li>Puesto: {{security.role}}</li>\n  <button [routerLink]=\"['../', security._id, 'details']\"> Ver vigilante </button>\n  <hr>\n</ul>\n"},ZZEr:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,".card-list{margin-top:20px;height:350px;background-color:#d8d8d8;box-shadow:1px 2px 15px 0 #c3c3c3}.list-box{border:1px solid #ddd;background:#f1f1f1;overflow-y:scroll;padding:10px}",""]),t.exports=t.exports.toString()},"aR8+":function(t,e,n){"use strict";var o=n("iM9F"),i=(n.n(o),n("2x2r")),r=n("fc+i"),s=n("/oeL"),a=n("bm2B"),c=n("oYkd"),l=n("3BBP"),u=n("UXaK"),p=n("NyJk"),f=n("Nndn"),h=n("fI+h"),d=n("wQAS"),m=n("CPp0"),b=n("uIIw"),g=n("nKUZ"),y=n("RPts"),v=n("Hf4T"),R=n("BkNc"),L=n("Ev6k"),j=n("cAAi"),O=n("6KYX"),w=n("Gnup"),x=n("fSpu"),_=n("cwWe"),C=n("MPB4"),E=n("XuvV"),k=n("wmW0"),P=n("tu28"),A=n("egH5"),S=n("kxuY"),U=n("UBBG"),I=n("pSC/"),D=n("N/+Y"),B=n("fL27"),M=n("hN3r");n.n(M);n.d(e,"a",function(){return Y});var N=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Y=function(){function t(){}return t}();Y=N([n.i(s.NgModule)({declarations:[d.a,b.a,g.a,y.a,v.a,j.a,O.a,w.a,x.a,_.a,C.a,E.a,k.a,P.a,A.a,S.a,U.a,I.a],imports:[r.BrowserModule,a.a,i.a,m.a,R.a.forRoot(L.a),B.a,D.a,M.SimpleNotificationsModule.forRoot()],providers:[c.a,u.a,p.a,f.a,h.a,l.a],bootstrap:[d.a]})],Y)},bPnZ:function(t,e){!function(t){t(function(){t(".button-collapse").sideNav(),t(".parallax").parallax()})}(jQuery)},cAAi:function(t,e,n){"use strict";var o=n("/oeL");n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();s=i([n.i(o.Component)({selector:"app-complaints",template:n("UC6T"),styles:[n("3hQM")]}),r("design:paramtypes",[])],s)},cDNt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("/oeL"),i=n("Qa4U"),r=n("aR8+");n("p5Ee").a.production&&n.i(o.enableProdMode)(),n.i(i.a)().bootstrapModule(r.a)},cvF2:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},cwWe:function(t,e,n){"use strict";var o=n("/oeL"),i=n("oYkd"),r=n("N/+Y");n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.session=t,this._alert=e,this.newUser={name:"",lastName:"",username:"",telephone:"",password:"",role:"",email:"",number:"",street:""}}return t.prototype.ngOnInit=function(){},t.prototype.signup=function(){var t=this;this.newUser.username=this.newUser.email,this.session.signup(this.newUser).subscribe(function(e){console.log("Usuario registrado en componente signup =>"),console.log(e),t._alert.create("success","Nuevo usuario añadido a la base de datos")},function(e){return t.error=e}),this.newUser={name:"",lastName:"",username:"",telephone:"",password:"",role:"",email:"",street:"",number:""}},t}();c=s([n.i(o.Component)({selector:"app-signup",template:n("u69u"),styles:[n("6UUW")]}),a("design:paramtypes",["function"==typeof(l=void 0!==i.a&&i.a)&&l||Object,"function"==typeof(u=void 0!==r.b&&r.b)&&u||Object])],c);var l,u},efyd:function(t,e){t.exports='<app-login-form *ngIf="!session.user && session.startLoginCompleted"></app-login-form>\n<div *ngIf="session.user && session.startLoginCompleted">\n  <nav>\n    <div class="nav-wrapper">\n      <a [routerLink]="\'#!\'" class="brand-logo">Logo</a>\n      <a [routerLink]="\'#\'" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>\n\n      <ul class="right hide-on-med-and-down">\n        <li><a [routerLink]="[\'\']">MENÚ</a></li>\n        <li><a [routerLink]="[\'/complaint\']">DENUNCIAS</a></li>\n        <li><a [routerLink]="[\'/alert\']">ALERTAS</a></li>\n        <li><a [routerLink]="[\'/house\']">VIVIENDAS</a></li>\n        <li><a [routerLink]="[\'/signup\']" *ngIf="session.user.role == \'Admin\'">REGISTRAR USUARIO</a></li>\n        <li><a [routerLink]="[\'/contact\']">CONTACTO</a></li>\n        <li><a class="waves-effect waves-light btn" href="/auth/logout">SALIR</a></li>\n      </ul>\n\n      <ul class="side-nav" id="mobile-demo">\n        <li><a [routerLink]="[\'/complaint\']">Denuncias</a></li>\n        <li><a [routerLink]="[\'/alert\']">Alertas</a></li>\n        <li><a [routerLink]="[\'/house\']">Viviendas</a></li>\n        <li><a [routerLink]="[\'/signup\']" *ngIf="session.user.role == \'Admin\'">Registrar usuario</a></li>\n        <li><a [routerLink]="[\'/contact\']">Contacto</a></li>\n      </ul>\n\n    </div>\n  </nav>\n</div>\n\n\n<router-outlet *ngIf="session.user && session.startLoginCompleted"></router-outlet>\n<jaspero-alerts [defaultSettings]="options"></jaspero-alerts>\n<simple-notifications></simple-notifications>\n<br><br>\n<div class="container">\n  <button class="btn" (click)="logout()">Logout</button>\n</div>\n'},egH5:function(t,e,n){"use strict";var o=n("/oeL");n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();s=i([n.i(o.Component)({selector:"app-contact",template:n("1WKT"),styles:[n("hbhV")]}),r("design:paramtypes",[])],s)},"fI+h":function(t,e,n){"use strict";var o=n("/oeL"),i=n("p5Ee"),r=n("CPp0"),s=n("Dqrr");n.n(s);n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.http=t,this.startLoginCompleted=!1,this.BASE_URL=i.a.BASE_URL+"/contact",this.options={withCredentials:!0},this.securityList=[],this.userList=[]}return t.prototype.handleError=function(t){return console.log("ERROR => "+t),console.error("Error en la llamada al endpoint Contact"),s.Observable.throw(t.json().message)},t.prototype.listSecurity=function(){var t=this;return this.http.get(this.BASE_URL+"/security",this.options).map(function(e){t.securityList=e.json()}).catch(this.handleError)},t.prototype.listUser=function(){var t=this;return this.http.get(this.BASE_URL+"/users",this.options).map(function(e){t.userList=e.json()}).catch(this.handleError)},t.prototype.showUser=function(t){var e=this;return this.http.get(this.BASE_URL+"/"+t,this.options).map(function(t){e.user=t.json()}).catch(this.handleError)},t.prototype.showSecurity=function(t){var e=this;return this.http.get(this.BASE_URL+"/"+t,this.options).map(function(t){e.security=t.json()}).catch(this.handleError)},t}();l=a([n.i(o.Injectable)(),c("design:paramtypes",["function"==typeof(u=void 0!==r.b&&r.b)&&u||Object])],l);var u},fSpu:function(t,e,n){"use strict";var o=n("MjLF"),i=(n.n(o),n("/oeL")),r=n("NyJk"),s=n("3BBP");n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.alert=t,this.notifications=e,this.alertList=[],this.messages=[]}return t.prototype.ngOnInit=function(){var t=this;o("http://localhost:3001").on("notification:security",function(t){console.log(arguments)}),this.connection=this.notifications.getNotifications().subscribe(function(e){t.messages.push(e)}),this.alert.listAlert().subscribe(function(e){t.alertList=t.alert.alertList},function(t){return console.log(t)})},t.prototype.ngOnDestroy=function(){this.connection.unsubscribe()},t}();l=a([n.i(i.Component)({selector:"app-list-alert",template:n("xpiO"),styles:[n("LBL5")],providers:[s.a]}),c("design:paramtypes",["function"==typeof(u=void 0!==r.a&&r.a)&&u||Object,"function"==typeof(p=void 0!==s.a&&s.a)&&p||Object])],l);var u,p},fWA5:function(t,e){t.exports="<a [routerLink]=\"['../']\"> Go back </a>\n<ul *ngFor=\"let complaint of complaintList\">\n  <hr>\n  Complaint number: {{complaint._id}}\n  <li>Status: {{complaint.status}}</li>\n  <li>Title: {{complaint.title}}</li>\n  <li>Description: {{complaint.description}}</li>\n  <li>User ID who sent: {{complaint.user}}</li>\n  <li>Lat Map: {{complaint.lat}}</li>\n  <li>Lon Map: {{complaint.lon}}</li>\n  <button [routerLink]=\"['../', complaint._id, 'details']\"> Ver detalles </button>\n  <hr>\n</ul>\n"},hbhV:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},hxJY:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},kxuY:function(t,e,n){"use strict";var o=n("/oeL"),i=n("fI+h");n.d(e,"a",function(){return a});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){var e=this;this.contact=t,this.securityList=[],this.contact.listSecurity().subscribe(function(t){e.securityList=e.contact.securityList})}return t.prototype.ngOnInit=function(){var t=this;this.contact.listSecurity().subscribe(function(e){t.securityList=t.contact.securityList,console.log("Entro en this.contact dentro del componente user-contact =>"),console.log(t.securityList)},function(t){return console.log(t)})},t}();a=r([n.i(o.Component)({selector:"app-contact-security",template:n("Z7D9"),styles:[n("Th4g")]}),s("design:paramtypes",["function"==typeof(c=void 0!==i.a&&i.a)&&c||Object])],a);var c},n7du:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="n7du"},nKUZ:function(t,e,n){"use strict";var o=n("/oeL"),i=n("oYkd"),r=n("N/+Y"),s=n("hN3r");n.n(s);n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,n){this.session=t,this._alert=e,this._notificationsService=n}return t.prototype.ngOnInit=function(){this.user=this.session.user},t.prototype.alert=function(){this._notificationsService.error("ALERTA SOS","SEGURIDAD!!! El vecino "+this.user.name+" ha pulsado ALERTA ¡SOS!, Dirección: Calle "+this.user.street+", nº "+this.user.number,{timeOut:3e4,showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:0})},t}();l=a([n.i(o.Component)({selector:"app-dashboard",template:n("BeiC"),styles:[n("ZZEr")]}),c("design:paramtypes",["function"==typeof(u=void 0!==i.a&&i.a)&&u||Object,"function"==typeof(p=void 0!==r.b&&r.b)&&p||Object,"function"==typeof(f=void 0!==s.NotificationsService&&s.NotificationsService)&&f||Object])],l);var u,p,f},oYkd:function(t,e,n){"use strict";var o=n("/oeL"),i=n("CPp0"),r=n("5v8a"),s=(n.n(r),n("xpf9")),a=(n.n(s),n("Dqrr")),c=(n.n(a),n("p5Ee"));n.d(e,"a",function(){return p});var l=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t){var e=this;this.http=t,this.startLoginCompleted=!1,this.BASE_URL=c.a.BASE_URL+"/auth",this.options={withCredentials:!0},this.isLoggedIn().subscribe(function(t){console.log("Welcome again user "+t.username),e.user=t,e.startLoginCompleted=!0},function(t){return e.startLoginCompleted=!0})}return t.prototype.handleError=function(t){return console.log("ERROR => "+t),console.error("Error en la llamada a la API"),a.Observable.throw(t.json().message)},t.prototype.signup=function(t){return this.http.post(this.BASE_URL+"/signup",t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.login=function(t,e){var n=this;return this.http.post(this.BASE_URL+"/login",{username:t,password:e},this.options).map(function(t){return n.user=t.json(),n.user}).catch(this.handleError)},t.prototype.logout=function(){var t=this;return this.http.get(this.BASE_URL+"/logout",this.options).map(function(e){e.json(),t.user=void 0}).catch(this.handleError)},t.prototype.isLoggedIn=function(){var t=this;return this.http.get(this.BASE_URL+"/loggedin",this.options).map(function(e){return t.user=e.json(),t.user}).catch(this.handleError)},t.prototype.getPrivateData=function(){return this.http.get(this.BASE_URL+"/private",this.options).map(function(t){return t.json()}).catch(this.handleError)},t}();p=l([n.i(o.Injectable)(),u("design:paramtypes",["function"==typeof(f=void 0!==i.b&&i.b)&&f||Object])],p);var f},p5Ee:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={production:!0,BASE_URL:""}},"pSC/":function(t,e,n){"use strict";var o=n("/oeL");n.d(e,"a",function(){return r});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=function(){function t(){}return t.prototype.transform=function(t,e,n){if(!t)return[];if(!n)return t;var o=new RegExp(n,"i");return t.filter(function(t){return t[e].match(o)})},t}();r=i([n.i(o.Pipe)({name:"filter"})],r)},q3rK:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},tu28:function(t,e,n){"use strict";var o=n("/oeL"),i=n("UXaK"),r=n("BkNc");n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,n){this.complaint=t,this.route=e,this.router=n}return t.prototype.ngOnInit=function(){var t=this;this.time=setInterval(function(){t.route.params.subscribe(function(e){null!=e.id&&(t.idComplaint=e.id,t.complaint.showComplaint(t.idComplaint).subscribe(function(e){t.oneComplaint=t.complaint.complaint}))})},1e3)},t.prototype.ngOnDestroy=function(){clearInterval(this.time)},t.prototype.changeStatus=function(){return"inProcess"==this.oneComplaint.status?this.updateComplaint={status:"sent",comment:this.comment}:"sent"==this.oneComplaint.status?this.updateComplaint={status:"inProcess",comment:this.comment}:void 0},t.prototype.openComplaint=function(){var t=this;this.updateComplaint={status:"inProcess",comment:this.comment},this.complaint.update(this.idComplaint,this.updateComplaint).subscribe(function(e){console.log("Denuncia actualizada, changed to: "+t.updateComplaint.status),console.log(e)},function(t){return console.log(t)})},t.prototype.conmuteComplainState=function(){var t=this;this.changeStatus(),this.complaint.update(this.idComplaint,this.updateComplaint).subscribe(function(e){console.log("Denuncia actualizada, changed to: "+t.updateComplaint.status),console.log(e)},function(t){return console.log(t)})},t.prototype.closeComplaint=function(){var t=this;this.updateComplaint={status:"completed",comment:this.comment},this.complaint.update(this.idComplaint,this.updateComplaint).subscribe(function(e){console.log("Denuncia actualizada, changed to: "+t.updateComplaint.status),console.log(e)},function(t){return console.log(t)})},t}();c=s([n.i(o.Component)({selector:"app-detail-complaint",template:n("3php"),styles:[n("VUQ+")]}),a("design:paramtypes",["function"==typeof(l=void 0!==i.a&&i.a)&&l||Object,"function"==typeof(u=void 0!==r.b&&r.b)&&u||Object,"function"==typeof(p=void 0!==r.c&&r.c)&&p||Object])],c);var l,u,p},u69u:function(t,e){t.exports='<a [routerLink]="[\'../\']"> Go back </a>\n<br>\n<hr>\n<h2> Signup </h2>\n<label> Nombre </label>\n<input type="text" [(ngModel)]="newUser.name" />\n<br>\n<label> Apellidos </label>\n<input type="text" [(ngModel)]="newUser.lastName" />\n<br>\n<label> Calle </label>\n<input type="text" [(ngModel)]="newUser.street" />\n<br>\n<label> Número </label>\n<input type="number" [(ngModel)]="newUser.number" />\n<br>\n<label> Email </label>\n<input type="text" [(ngModel)]="newUser.email" />\n<br>\n<label> Password </label>\n<input type="password" [(ngModel)]="newUser.password" />\n<br>\n<label> Teléfono </label>\n<input type="number" [(ngModel)]="newUser.telephone" />\n<br>\n<div class="">\n  <label>Permisos</label>\n  <select name="role" [(ngModel)]="newUser.role">\n      <optgroup label="Permisos">\n      <option value="User">Usuario</option>\n      <option value="Security">Vigilante</option>\n      <option value="Admin">Administrador</option>\n    </select>\n</div>\n<br>\n<button (click)="signup()"> Registrar usuario </button>\n<br>\n<p class="error"> {{ error }} </p>\n'},uIIw:function(t,e,n){"use strict";var o=n("/oeL"),i=n("oYkd");n.d(e,"a",function(){return a});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){this.session=t,this.newUser={}}return t.prototype.ngOnInit=function(){},t.prototype.login=function(){var t=this;this.session.login(this.username,this.password).subscribe(function(t){return console.log(t)},function(e){return t.error=e})},t.prototype.signup=function(){var t=this;this.session.signup(this.newUser).subscribe(function(t){return console.log(t)},function(e){return t.error=e})},t}();a=r([n.i(o.Component)({selector:"app-login-form",template:n("BINV"),styles:[n("US02")]}),s("design:paramtypes",["function"==typeof(c=void 0!==i.a&&i.a)&&c||Object])],a);var c},wQAS:function(t,e,n){"use strict";var o=n("/oeL"),i=n("oYkd"),r=n("bPnZ");n.n(r);n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.session=t,this.title="app"}return t.prototype.ngOnInit=function(){this.user=this.session.user},t.prototype.logout=function(){this.session.logout().subscribe()},t}();c=s([n.i(o.Component)({selector:"app-root",template:n("efyd"),styles:[n("hxJY")]}),a("design:paramtypes",["function"==typeof(l=void 0!==i.a&&i.a)&&l||Object])],c);var l},wmW0:function(t,e,n){"use strict";var o=n("/oeL");n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();s=i([n.i(o.Component)({selector:"app-houses",template:n("JbYH"),styles:[n("xdTK")]}),r("design:paramtypes",[])],s)},xdTK:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},xpiO:function(t,e){t.exports='<a [routerLink]="[\'../\']"> Go back </a>\n<br>\n<hr>\n<div *ngFor="let message of messages">\n  {{message.text}}\n </div>\n<div class="" *ngIf="alertList">\n  <ul *ngFor="let alert of alertList">\n    <hr><b>ALERT =>:</b> {{alert._id}}\n    <li><b>Status:</b> {{alert.status}}</li>\n    <li><b>Title:</b> {{alert.title}}</li>\n    <li><b>Description:</b> {{alert.description}}</li>\n    <li><b>User ID who sent:</b> {{alert.user}}</li>\n    <li><b>Lat Map:</b> {{alert.lat}}</li>\n    <li><b>Lon Map:</b> {{alert.lon}}</li>\n    <li><b>LEVEL OF EMERGENCY:</b> {{alert.emergencyLevel}}</li>\n    <hr>\n  </ul>\n</div>\n'}},[2]);